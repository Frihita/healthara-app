<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Aaj Kya Khayein? | Healthara</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-emerald-100 to-sky-100 min-h-screen">

  <div class="min-h-screen p-4 md:p-8">
    <!-- Header -->
    <div class="flex items-center gap-4 mb-8 max-w-4xl mx-auto">
      <button onclick="window.history.back()" class="rounded-full p-2 hover:bg-gray-200">
        <!-- ArrowLeft SVG -->
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>
      <h1 class="text-2xl font-bold text-gray-900">Aaj Kya Khayein? üç≥</h1>
    </div>

    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
      <!-- Left Side: Controls -->
      <div>
        <div class="bg-white rounded-2xl shadow-xl p-0 border-0">
          <div class="flex">
            <button id="tab-ingredients" class="flex-1 py-3 font-semibold border-b-2 border-emerald-500 bg-emerald-50">By Ingredients</button>
            <button id="tab-cravings" class="flex-1 py-3 font-semibold border-b-2 border-transparent hover:bg-emerald-50">Healthy Cravings</button>
          </div>
          <!-- Ingredients Tab -->
          <div id="ingredients-panel" class="p-6">
            <div class="text-lg font-bold mb-4">What's in your kitchen?</div>
            <div class="grid grid-cols-2 gap-4 mb-6 max-h-64 overflow-y-auto" id="ingredients-list">
              <!-- JS will populate checkboxes here -->
            </div>
            <button id="find-recipe" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-2 rounded-lg flex items-center justify-center gap-2">
              <span id="find-recipe-spinner" class="hidden animate-spin"><svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-opacity="0.2"/><path d="M12 2a10 10 0 0 1 10 10" /></svg></span>
              <span>Find Recipe</span>
            </button>
          </div>
          <!-- Cravings Tab -->
          <div id="cravings-panel" class="p-6 hidden">
            <div class="text-lg font-bold mb-4">Craving something unhealthy?</div>
            <div class="space-y-2 mb-6">
              <label for="craving-input" class="font-medium">Enter your craving</label>
              <input id="craving-input" type="text" placeholder="e.g., French Fries, Chocolate Cake" class="w-full border rounded-md p-2" />
            </div>
            <button id="find-alternative" class="w-full bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-semibold py-2 rounded-lg flex items-center justify-center gap-2">
              <span id="find-alt-spinner" class="hidden animate-spin"><svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-opacity="0.2"/><path d="M12 2a10 10 0 0 1 10 10" /></svg></span>
              <span>Find Healthy Alternative</span>
            </button>
          </div>
          <div id="akk-error" class="text-red-500 text-sm px-6 py-2 hidden"></div>
        </div>
      </div>

      <!-- Right Side: Result -->
      <div>
        <div class="bg-white rounded-2xl shadow-xl min-h-full border-0">
          <div class="p-6 border-b">
            <div class="text-lg font-bold">Your Custom Recipe</div>
          </div>
          <div class="p-6" id="recipe-result">
            <div class="text-center text-gray-500 h-64 flex flex-col items-center justify-center">
              <!-- Utensils SVG -->
              <svg class="w-12 h-12 mb-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M4 3v7a4 4 0 0 0 4 4h0a4 4 0 0 0 4-4V3" />
                <path d="M8 21v-4" />
                <path d="M18 8v13" />
                <path d="M18 3v3" />
              </svg>
              <p>Your generated recipe will appear here.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Ingredients list
    const ingredientsList = [
      'Chicken', 'Beef', 'Fish', 'Tofu', 'Eggs', 'Lentils', 'Chickpeas', 'Black Beans',
      'Tomato', 'Onion', 'Garlic', 'Spinach', 'Potato', 'Carrot', 'Bell Pepper', 'Mushroom',
      'Broccoli', 'Zucchini', 'Cucumber', 'Lettuce', 'Avocado', 'Corn', 'Sweet Potato',
      'Rice', 'Quinoa', 'Pasta', 'Bread', 'Oats', 'Flour',
      'Milk', 'Cheese', 'Yogurt', 'Butter', 'Almond Milk',
      'Lemon', 'Apple', 'Banana', 'Berries',
      'Olive Oil', 'Coconut Oil', 'Soy Sauce', 'Vinegar', 'Honey', 'Mustard', 'Nuts', 'Seeds'
    ];

    // Populate ingredients checkboxes
    const ingredientsDiv = document.getElementById('ingredients-list');
    ingredientsList.forEach(item => {
      const id = 'ing-' + item.replace(/\s+/g, '-').toLowerCase();
      const div = document.createElement('div');
      div.className = "flex items-center space-x-2";
      div.innerHTML = `
        <input type="checkbox" id="${id}" value="${item}" class="rounded border-gray-300 text-emerald-600 focus:ring-emerald-500" />
        <label for="${id}" class="cursor-pointer">${item}</label>
      `;
      ingredientsDiv.appendChild(div);
    });

    // Tab switching
    const tabIngredients = document.getElementById('tab-ingredients');
    const tabCravings = document.getElementById('tab-cravings');
    const panelIngredients = document.getElementById('ingredients-panel');
    const panelCravings = document.getElementById('cravings-panel');
    tabIngredients.onclick = () => {
      tabIngredients.classList.add('border-emerald-500', 'bg-emerald-50');
      tabCravings.classList.remove('border-emerald-500', 'bg-emerald-50');
      panelIngredients.classList.remove('hidden');
      panelCravings.classList.add('hidden');
      document.getElementById('akk-error').classList.add('hidden');
    };
    tabCravings.onclick = () => {
      tabCravings.classList.add('border-emerald-500', 'bg-emerald-50');
      tabIngredients.classList.remove('border-emerald-500', 'bg-emerald-50');
      panelCravings.classList.remove('hidden');
      panelIngredients.classList.add('hidden');
      document.getElementById('akk-error').classList.add('hidden');
    };

    // Find Recipe
    document.getElementById('find-recipe').onclick = function() {
      const spinner = document.getElementById('find-recipe-spinner');
      const errorDiv = document.getElementById('akk-error');
      errorDiv.classList.add('hidden');
      spinner.classList.remove('hidden');
      this.disabled = true;
      // Get selected ingredients
      const selected = Array.from(ingredientsDiv.querySelectorAll('input:checked')).map(i => i.value);
      if (selected.length === 0) {
        errorDiv.textContent = "Please select at least one ingredient.";
        errorDiv.classList.remove('hidden');
        spinner.classList.add('hidden');
        this.disabled = false;
        return;
      }
      // Simulate recipe generation (replace with LLM call if needed)
      setTimeout(() => {
        spinner.classList.add('hidden');
        this.disabled = false;
        document.getElementById('recipe-result').innerHTML = `
          <div class="prose max-w-none">
            <h2>‚ú® Custom Recipe: ${selected.join(', ')}</h2>
            <p>A healthy and simple dish using your selected ingredients.</p>
            <h3>Ingredients</h3>
            <ul>${selected.map(i=>`<li>${i}</li>`).join('')}</ul>
            <h3>Instructions</h3>
            <ol>
              <li>Prep all ingredients as needed.</li>
              <li>Combine in a pan, season, and cook until done.</li>
              <li>Serve warm and enjoy!</li>
            </ol>
          </div>
        `;
      }, 1200);
    };

    // Find Healthy Alternative
    document.getElementById('find-alternative').onclick = function() {
      const spinner = document.getElementById('find-alt-spinner');
      const errorDiv = document.getElementById('akk-error');
      errorDiv.classList.add('hidden');
      spinner.classList.remove('hidden');
      this.disabled = true;
      const craving = document.getElementById('craving-input').value.trim();
      if (!craving) {
        errorDiv.textContent = "Please enter your craving.";
        errorDiv.classList.remove('hidden');
        spinner.classList.add('hidden');
        this.disabled = false;
        return;
      }
      // Simulate healthy alternative (replace with LLM call if needed)
      setTimeout(() => {
        spinner.classList.add('hidden');
        this.disabled = false;
        document.getElementById('recipe-result').innerHTML = `
          <div class="prose max-w-none">
            <h2>üå± Healthy Alternative for "${craving}"</h2>
            <p>Try this nutritious swap instead of your usual craving!</p>
            <h3>Ingredients</h3>
            <ul><li>See your kitchen for healthy options!</li></ul>
            <h3>Instructions</h3>
            <ol>
              <li>Prepare the healthy alternative as per your taste.</li>
              <li>Enjoy guilt-free!</li>
            </ol>
          </div>
        `;
      }, 1200);
    };
  </script>
</body>
</html>
